<template name="action-bar">
  <view style="display: flex; justify-content: space-between; align-items: center; padding: 0 10rpx;">
    <view style="display: flex; align-items: center; gap: 16rpx;">
      <view class="area-label" style="margin-bottom:0; padding-right: 0;">
        ç©ºåœ° ({{clearingLength}}/10)
      </view>
      <view class="end-turn-text" bindtap="onEndTurn" wx:if="{{isMyTurn}}">
        {{gameState.actionMode ? 'è·³è¿‡' : 'ç»“æŸ'}}
      </view>
    </view>
    <view class="action-bar-inline" wx:if="{{isMyTurn}}" style="display:flex; gap:12rpx;">
      <!-- æ°´ç”°é¼ æ¨¡å¼ä¸‹éšè—æ‹¿å–æŒ‰é’® -->
      <block wx:if="{{!gameState.actionMode && gameState.actionMode !== 'ACTION_PLAY_SAPLINGS'}}">
        <button size="mini" class="game-btn draw-btn" bindtap="onConfirmTake" style="margin:0; padding:0 12rpx; font-weight:normal;">
          âœ‹æ‹¿å–
        </button>
      </block>
      <!-- æ°´ç”°é¼ æ¨¡å¼ä¸‹éšè—æ‰“å‡ºæŒ‰é’® -->
      <button wx:if="{{gameState.actionMode !== 'ACTION_PLAY_SAPLINGS'}}" size="mini" class="game-btn {{instructionState === 'success' ? 'valid-play-btn' : ''}} {{gameState.actionMode && !(gameState.actionMode === 'ACTION_MOLE' || gameState.actionMode === 'ACTION_PLAY_SAPLINGS' || gameState.actionMode === 'PLAY_FREE' || gameState.actionMode === 'ACTION_RACCOON' || gameState.actionMode === 'ACTION_PICK_FROM_CLEARING' || gameState.actionMode === 'PICK_FROM_CLEARING_TO_HAND' || gameState.actionMode === 'ACTION_PICK_FROM_CLEARING_TO_CAVE' || gameState.actionMode === 'ACTION_CLEARING_TO_CAVE' || gameState.actionMode === 'ACTION_TUCK_HAND_CARD') ? 'disabled' : ''}}" bindtap="onConfirmPlay" disabled="{{gameState.actionMode && !(gameState.actionMode === 'ACTION_MOLE' || gameState.actionMode === 'ACTION_PLAY_SAPLINGS' || gameState.actionMode === 'PLAY_FREE' || gameState.actionMode === 'ACTION_RACCOON' || gameState.actionMode === 'ACTION_PICK_FROM_CLEARING' || gameState.actionMode === 'PICK_FROM_CLEARING_TO_HAND' || gameState.actionMode === 'ACTION_PICK_FROM_CLEARING_TO_CAVE' || gameState.actionMode === 'ACTION_CLEARING_TO_CAVE' || gameState.actionMode === 'ACTION_TUCK_HAND_CARD')}}" style="margin:0; padding:0 12rpx; font-weight:normal;">
        {{(gameState.actionMode === 'ACTION_PICK_FROM_CLEARING' || gameState.actionMode === 'PICK_FROM_CLEARING_TO_HAND' || gameState.actionMode === 'ACTION_PICK_FROM_CLEARING_TO_CAVE' || gameState.actionMode === 'ACTION_CLEARING_TO_CAVE' || gameState.actionMode === 'ACTION_TUCK_HAND_CARD') ? 'âœ…ç¡®å®š' : 'âœ…æ‰“å‡º'}}
      </button>
      <!-- æ°´ç”°é¼ æ¨¡å¼ä¸‹å¯ç”¨æ ‘è‹—æŒ‰é’® -->
      <button size="mini" class="game-btn secondary sapling-btn {{gameState.actionMode && gameState.actionMode !== 'ACTION_PLAY_SAPLINGS' ? 'disabled' : ''}}" bindtap="onPlaySapling" disabled="{{gameState.actionMode && gameState.actionMode !== 'ACTION_PLAY_SAPLINGS'}}" style="margin:0; padding:0 12rpx; font-weight:normal;">
        ğŸŒ±æ ‘è‹—
      </button>
      <button wx:if="{{openId === 'oN71F18ODPCKs9SzUJKilLyCKwYo'}}" size="mini" class="game-btn secondary" bindtap="onCheatAddCards" style="margin:0; padding:0 12rpx; min-width: 50rpx; font-weight:normal; background-color: #FFD700; color: #333;">
        ğŸ”‘
      </button>
    </view>
  </view>
</template>