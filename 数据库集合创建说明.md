# 创建 users 数据库集合说明

## 问题
如果遇到"集合不存在"的错误，需要手动创建 `users` 数据库集合。

## 创建步骤

### 方法一：通过微信开发者工具创建（推荐）

1. **打开云开发控制台**
   - 在微信开发者工具中，点击顶部工具栏的 **"云开发"** 按钮
   - 或者点击菜单栏：**工具** → **云开发**

2. **进入数据库页面**
   - 在云开发控制台中，点击左侧菜单的 **"数据库"**

3. **创建集合**
   - 点击数据库页面右上角的 **"+"** 号按钮
   - 在弹出的对话框中输入集合名称：`users`
   - 点击 **"确定"**

4. **设置权限**
   - 创建集合后，点击集合名称进入集合详情
   - 点击 **"权限设置"** 标签
   - 选择权限规则：**"所有用户可读，仅创建者可写"**
   - 或者选择：**"仅创建者可读写"**（如果只需要用户自己读写自己的数据）

5. **完成**
   - 创建完成后，重新运行小程序即可

### 方法二：通过云开发控制台网页版创建

1. 访问 [微信云开发控制台](https://console.cloud.tencent.com/)
2. 选择对应的小程序项目
3. 进入"数据库" → "集合管理"
4. 点击"新建集合"，输入名称 `users`
5. 设置权限规则

## 权限设置说明

推荐权限设置：
- **所有用户可读，仅创建者可写**：适用于需要查看其他用户信息的场景
- **仅创建者可读写**：适用于用户数据完全私有的场景

## 验证

创建集合后，可以通过以下方式验证：

1. 在小程序中运行 `simulateWriteUsers()` 测试函数
2. 如果看到"写入用户成功"的提示，说明集合创建成功
3. 在云开发控制台的数据库中，应该能看到新创建的文档

## 注意事项

- 集合名称必须完全匹配：`users`（小写）
- 如果集合已存在但仍有错误，请检查权限设置
- 确保云开发环境已正确初始化

